<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Preisshare-dev] Doing xml data feeds
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/preisshare-dev/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:preisshare-dev%40lists.berlios.de?Subject=Re%3A%20%5BPreisshare-dev%5D%20Doing%20xml%20data%20feeds&In-Reply-To=%3C34633.127.0.0.1.1168709802.squirrel%40srv11.ezyreg.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000022.html">
   <LINK REL="Next"  HREF="000026.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Preisshare-dev] Doing xml data feeds</H1>
    <B>sinu at preisshare.net</B> 
    <A HREF="mailto:preisshare-dev%40lists.berlios.de?Subject=Re%3A%20%5BPreisshare-dev%5D%20Doing%20xml%20data%20feeds&In-Reply-To=%3C34633.127.0.0.1.1168709802.squirrel%40srv11.ezyreg.com%3E"
       TITLE="[Preisshare-dev] Doing xml data feeds">sinu at preisshare.net
       </A><BR>
    <I>Sat Jan 13 18:36:42 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000022.html">[Preisshare-dev] Doing xml data feeds
</A></li>
        <LI>Next message: <A HREF="000026.html">[Preisshare-dev] Doing xml data feeds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25">[ date ]</a>
              <a href="thread.html#25">[ thread ]</a>
              <a href="subject.html#25">[ subject ]</a>
              <a href="author.html#25">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi David,

I had a look at the .xml file sent [generated using the data binding
wizard], the auto created interface file(retail.pas) and the classes used
for creating the .xml file (retailu.pas).

I tried to use the 'loadfromfile' and 'savetofile' methods.
But faced some access violation while calling the loadfromfile when the
earlier sample .PreisFile file was used as an input.
So, for testing the new classes [in retailu.pas], a new sample .PreisFile
[with the new format] file is required.

Another thing is - the logic used in the functions is like this.
1.Load the . PreisFile file.
2.Get the various pricelist items in internal structures.
3.Save to .xml file

But we already have some classes for reading the .PreisFile file.
So it will be nice if we can reuse them.
Something like the following will be fine.
*read a line from .PreisFile are file [already exists]
*write the .xml node with the pricelist item.
*finally save the .xml file.

While trying in a different way to come with an .xml file I noticed that
if we make some small changes in the current .PreisFile file itself,
we can convert it to an .xml file [the current . PreisFile file is
somewhat in .xml format].

If following things are done, the existing .PreisFile file can be changed
to .xml file.
step1:
remove the space in the following nodes.
  &lt;Product Information&gt;
    &lt;Product Group&gt;
       &lt;Product Item&gt;

step2:
remove '&amp;' from the end of all the items.

step3:
add the xml header.

The easiest way is to convert the existing .PreisFile file to .xml is :
[This is similar to a simple file operation]
1.read the .PreisFile file line by line
2.assign the line to a temp line
3.remove space and '&amp;'
[tags can be added to make it a true .xml file]
4.write to a new file with extension .xml
But this is a clumsy way of doing it :(

Better method:
we can use methods of TXMLDocument component to create an XML file.

Now I am in confusion which approach is the best one?

Please advice me in this matter.

The tag information in the xml file that you have sent is different from
the tags in the .PreisFile file.
Should I have to use the new format of .PreisFile (which includes vendor
information) ?

Expecting your suggestions,

Regards,
Sinu



&gt;<i> Hi Sinu,
</I>&gt;<i>
</I>&gt;<i> You did a good job on getting the vtk components integrated for
</I>&gt;<i> preparing the XLS Price spreadsheets.
</I>&gt;<i>
</I>&gt;<i> I guess we should start looking at the xml format for the pricelists.
</I>&gt;<i>
</I>&gt;<i> Would you like to look at this?
</I>&gt;<i>
</I>&gt;<i> It basically involves creating the xml pricelist files in pretty much
</I>&gt;<i> the same way as XLS spreadsheet files are done.
</I>&gt;<i>
</I>&gt;<i> There are too ways of doing this I guess, we can use code generated by
</I>&gt;<i> the delphi data binding wizard, or we can create some of our own.
</I>&gt;<i>
</I>&gt;<i> Geoff did this mappings using the data binding wizard and sent them to
</I>&gt;<i> me offlist. They look pretty good.
</I>&gt;<i>
</I>&gt;<i> What do you think?
</I>&gt;<i>
</I>&gt;<i> Best Regards
</I>&gt;<i>
</I>&gt;<i> David
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000022.html">[Preisshare-dev] Doing xml data feeds
</A></li>
	<LI>Next message: <A HREF="000026.html">[Preisshare-dev] Doing xml data feeds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25">[ date ]</a>
              <a href="thread.html#25">[ thread ]</a>
              <a href="subject.html#25">[ subject ]</a>
              <a href="author.html#25">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/preisshare-dev">More information about the Preisshare-dev
mailing list</a><br>
</body></html>
